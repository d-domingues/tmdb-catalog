{"version":3,"file":"carousel-component.js","sourceRoot":"","sources":["../../../src/components/carousel-component.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAEvD,OAAO,EAAE,OAAO,EAAe,MAAM,+BAA+B,CAAC;AACrE,OAAO,EAAE,MAAM,EAAE,MAAM,gCAAgC,CAAC;AACxD,OAAO,MAAM,MAAM,gCAAgC,CAAC;AAGpD,IAAa,iBAAiB,GAA9B,MAAa,iBAAkB,SAAQ,UAAU;IAQ/C;QACE,KAAK,EAAE,CAAC;QANiB,WAAM,GAAkB,EAAE,CAAC;QAC7C,aAAQ,GAAG,CAAC,CAAC;QAyBtB,cAAS,GAAG,GAAG,EAAE;YACf,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAExC,OAAO,IAAI,CAAA;uCACwB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE;UACtE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI;;KAE3C,CAAC;QACJ,CAAC,CAAC;QA3BA,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IAED,oBAAoB;QAClB,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC7B,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACjC,CAAC;IAED,eAAe,CAAC,GAAW;QACzB,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/B,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QAEpB,IAAI,CAAC,UAAU,GAAG,WAAW,CAC3B,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAChE,IAAI,CACL,CAAC;IACJ,CAAC;IAYD,MAAM;QACJ,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,MAAM,CAAC,GAAG,CACf,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CACZ,IAAI,CAAA;8BACgB,IAAI,CAAC,QAAQ,qBAAqB,GAAG;kBACjD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;;aAE/B,CACN;QACC,IAAI,CAAC,SAAS,EAAE;;UAEd,IAAI,CAAC,MAAM,CAAC,GAAG,CACf,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAA;;sBAEJ,QAAQ,CAAC,EAAE,MAAM,EAAE,GAAG,KAAK,IAAI,CAAC,QAAQ,EAAE,CAAC;uBAC1C,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;;WAE3C,CACF;;KAEJ,CAAC;IACJ,CAAC;CACF,CAAA;AA7DQ,wBAAM,GAAG,MAAM,CAAC;AAEI;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;iDAA4B;AAC7C;IAAR,KAAK,EAAE;mDAAc;AAJX,iBAAiB;IAD7B,aAAa,CAAC,oBAAoB,CAAC;GACvB,iBAAiB,CA8D7B;SA9DY,iBAAiB","sourcesContent":["import { html, LitElement } from 'lit';\r\nimport { customElement, property, state } from 'lit/decorators.js';\r\nimport { classMap } from 'lit/directives/class-map.js';\r\n\r\nimport { isMovie, TmdbDataObj } from '../../models/tmdb-data-obj.js';\r\nimport { imgSrc } from '../directives/img-directive.js';\r\nimport styles from './carousel-component.styles.js';\r\n\r\n@customElement('carousel-component')\r\nexport class CarouselComponent extends LitElement {\r\n  static styles = styles;\r\n\r\n  @property({ type: Array }) slides: TmdbDataObj[] = [];\r\n  @state() slideIdx = 0;\r\n\r\n  private intervalId!: NodeJS.Timeout;\r\n\r\n  constructor() {\r\n    super();\r\n    this.restartInterval(0);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    clearInterval(this.intervalId);\r\n  }\r\n\r\n  restartInterval(val: number) {\r\n    clearInterval(this.intervalId);\r\n\r\n    this.slideIdx = val;\r\n\r\n    this.intervalId = setInterval(\r\n      () => (this.slideIdx = (this.slideIdx + 1) % this.slides.length),\r\n      5000\r\n    );\r\n  }\r\n\r\n  titleTmpl = () => {\r\n    const item = this.slides[this.slideIdx];\r\n\r\n    return html`\r\n      <a class=\"title\" href=\"details/${isMovie(item) ? 'movie' : 'tv'}/${item.id}\">\r\n        ${isMovie(item) ? item.title : item.name}\r\n      </a>\r\n    `;\r\n  };\r\n\r\n  render() {\r\n    return html`\r\n      ${this.slides.map(\r\n        (item, idx) =>\r\n          html`<img\r\n            style=\"--slide: ${this.slideIdx}; grid-area: slide${idx}\"\r\n            src=${imgSrc(item.backdrop_path)}\r\n            alt=\"\"\r\n          />`\r\n      )}\r\n      ${this.titleTmpl()}\r\n      <div class=\"slide-btns\">\r\n        ${this.slides.map(\r\n          (_, idx) => html`\r\n            <button\r\n              class=${classMap({ active: idx === this.slideIdx })}\r\n              @click=${() => this.restartInterval(idx)}\r\n            ></button>\r\n          `\r\n        )}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n"]}